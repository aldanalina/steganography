Практикалық жұмыс 10. Қауіпті ақпаратты жасырын сақтау үшін кеңейтілген қолдану тәсілдері

Мақсаты
Ақпаратты жасырын сақтау мен таратуда қолданылатын жетілдірілген (advanced) стеганографиялық және криптографиялық тәсілдерді үйрену.
Біріктірілген әдістерді (гибридті тәсілдер — криптография + стеганография) тәжірибеде қолдануды көрсету.
Бұлттық, файлдық, жүйелік және желілік деңгейлерде жасырын деректерді қорғау сценарийлерін талдау.
Жасырын деректердің қауіпсіздігін бағалау және анықтау тәуекелдерін талдау.

Теориялық кіріспе
Қауіпті (сезімтал, classified) ақпаратты жасырын сақтау — бұл тек хабарды көруге болмайтындай жасыру ғана емес, оны табылмайтындай және дешифрленбейтіндей ету процесі.
1. Негізгі бағыттар
Криптостеганография: алдымен хабарды шифрлау (AES, RSA), содан кейін суретке, бейнеге немесе файлға енгізу.
Метафайлдық сақтау: хабарды файлдың метадеректеріне немесе бөлім тақырыптарына (headers) енгізу.
Контейнерлік тәсіл: деректерді кәдімгі бейне, архив немесе виртуалды диск (.iso, .vhd) ішіне жасыру.
Жүйелік деңгей: қауіпсіздік мақсатында логтар мен конфигурацияларда «кодталған өріс» ретінде сақтау.
Бұлттық тасымалдау: steganographic cloud storage — деректердің бір бөлігін бұлттың әр жеріне бөліп сақтау (distributed fragments).
2. Жасырын сақтау ерекшеліктері
Жасырын дерек тек нақты кілт арқылы қалпына келеді.
Бірнеше қабатты шифрлау (multi-layer encryption) мен шифрланған каналдар (VPN, Tor) бірге қолданылады.
Тиімді тәсіл — дерек түрін өзгертіп сақтау: мысалы, мәтінді сурет пикселіне, аудио сэмплге немесе QR-кодқа айналдыру.
3. Қауіпсіздік деңгейлері
Негізгі (Basic): LSB, zero-width text markers.
Кеңейтілген (Advanced): AES + LSB, RSA + image embedding.
Кәсіби (Expert): контейнерлер (TrueCrypt/VeraCrypt), децентрализованное хранение (IPFS, blockchain-based).

Қадамдық нұсқаулық
1. Криптостеганография принципі
Хабарды алдымен AES арқылы шифрлау.
Шифрланған деректі суретке LSB арқылы енгізу.
Кері процесте суреттен хабарды шығарып, AES арқылы дешифрлеу.
2. AES шифрлау және LSB енгізу (Python мысалы)
from Crypto.Cipher import AES
from stegano import lsb
import base64

# Кілт және дерек
key = b'SecureKey1234567'  # 16 байт
cipher = AES.new(key, AES.MODE_EAX)
message = b'Құпия код: 5482-XZ'
nonce = cipher.nonce
ciphertext, tag = cipher.encrypt_and_digest(message)

# Шифрланған хабарды суретке енгізу
encoded = base64.b64encode(nonce + ciphertext).decode()
secret = lsb.hide("input.png", encoded)
secret.save("hidden.png")
print("Шифрланған хабар суретке енгізілді.")

3. Хабарды шығарып және дешифрлеу
from Crypto.Cipher import AES
import base64
from stegano import lsb

hidden_data = lsb.reveal("hidden.png")
data = base64.b64decode(hidden_data)
nonce, ciphertext = data[:16], data[16:]

key = b'SecureKey1234567'
cipher = AES.new(key, AES.MODE_EAX, nonce=nonce)
decrypted = cipher.decrypt(ciphertext)
print("Шығарылған хабар:", decrypted.decode())

4. Контейнерлік тәсіл (мысалы, ZIP ішіне жасырын файл)
zip -e secret_container.zip confidential.txt
mv secret_container.zip photo.jpg
(Файл атауы өзгертіледі, бірақ ішінде ZIP құрылымы бар.)

5. QR-код арқылы жасырын сақтау
AES-пен шифрланған хабарды QR-кодқа айналдыру.
QR суретін PDF не бейне ішіне енгізу.
Шифрды тек QR сканер арқылы ашуға болады.
Python мысалы:
import qrcode
data = "SecretKey=AI4567"
img = qrcode.make(data)
img.save("secret_qr.png")

6. Хабарды жою (irreversible wipe)
Файлдарды тек өшіру жеткіліксіз; оларды толық қайта жазу қажет:
shred -u -n 3 hidden.png   # 3 рет қайта жазып, жояды

Практикада мысалдар
Мысал 1. AES-пен шифрланған хабарды суретке енгізу және шығару.
Мысал 2. ZIP контейнер ішіне .txt файлды енгізіп, атауын өзгерту.
Мысал 3. QR-код арқылы кодталған кілтті PDF ішінде сақтау және шығарып алу.

Қорытынды
Кеңейтілген стеганография қарапайым әдістерге қарағанда әлдеқайда қауіпсіз және күрделі.
Криптография мен стеганография біріктірілгенде ақпарат екі есе қорғалады.
Контейнерлік және бұлттық тәсілдер үлкен көлемді деректерге арналған.
Дегенмен, мұндай әдістерді заңды және этикалық мақсатта ғана қолдану қажет.

Студенттерге жеке практикалық тапсырмалар 
AES арқылы хабарды шифрлап, PNG суретке енгізіңіз.
LSB әдісі мен AES шифрын салыстырыңыз.
RSA шифрын қолдана отырып хабарды енгізіңіз.
Бір суретке бірнеше шифрланған хабар енгізіп көріңіз.
Сурет сапасын азайтып, хабардың сақталуын тексеріңіз.
Контейнер тәсілімен ZIP ішіне жасырын файл сақтаңыз.
QR-кодпен шифрланған деректі жасаңыз.
QR-кодты басқа суретке енгізіңіз.
AES кілтін басқа файлда сақтау тәсілін жасаңыз.
Шифрланған хабардың ұзындығын өзгертіп тәжірибе жасаңыз.
Крипто және LSB әдістерінің қауіпсіздігін салыстырыңыз.
Бір суретке екі түрлі шифрланған хабар енгізіңіз.
Файл өлшемі мен хабар ұзындығы арасындағы байланыс графигін жасаңыз.
Суреттен хабарды жойып, md5 хэшін тексеріңіз.
Мәтінді бейнеге енгізу тәсілін әзірлеңіз.
WAV файлға AES шифрланған хабар енгізіңіз.
Шифрланған хабарды аудио мен бейне арасында салыстырыңыз.
AES орнына ChaCha20 немесе DES алгоритмін қолданып көріңіз.
Шифрланған хабарды QR арқылы енгізу мен шығару процестерін біріктіріңіз.
ZIP контейнерді сурет файлы ретінде таратып көріңіз.
LSB әдісімен шифрланған хабарды табу мүмкіндігін бағалаңыз.
RSA ашық және жабық кілттерін қолданып хабар енгізіңіз.
Құпия хабарды мәтін мен суретке бір уақытта енгізіңіз.
Контейнерге көп деңгейлі (multilayer) шифрлауды қолдану.
Бір хабарды үш түрлі әдіспен енгізіп, қайсысы тиімді екенін анықтаңыз.
QR-код арқылы кілттерді бөліп сақтау тәжірибесін жасаңыз.
Суретке енгізілген хабарды шифрды білмей табуға әрекет етіңіз (анализ жасаңыз).
Суретті бұлтқа жүктеп, кейін хабардың сақталуын тексеріңіз.
Қауіпсіз жою (shred) әдісін суретке қолданып, нәтижесін тексеріңіз.
“Қауіпсіз жасырын сақтау жүйесін жобалау” тақырыбында қысқа есеп жасаңыз.

