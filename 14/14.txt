Практикалық жұмыс 14. Криптографиялық және стеганографиялық әдістерді біріктіру практикасы

Мақсаты
Криптография мен стеганографияны біріктіріп, ақпаратты екі деңгейлі қорғау тәсілін меңгеру.
AES шифрлауын және LSB суретке енгізу әдісін бірге қолдану.
Хабарды шифрлап енгізу және оны кейін дешифрлеп шығару процесін практикада орындау.
Біріктірілген тәсілдің артықшылықтарын және әлсіз жақтарын бағалау.

Теориялық кіріспе
Криптография — ақпаратты математикалық түрлендіру арқылы рұқсатсыз оқудан қорғау. (Мысалы: AES, RSA, ChaCha20.)
Стеганография — хабардың бар екенін жасыру (мысалы, сурет пішініндегі пиксель биттеріне дерек енгізу).
Екеуін біріктіру — қос қорғаныс қабатын қамтамасыз етеді:
Бірінші қабат: криптография (мазмұн шифрланады).
Екінші қабат: стеганография (шифрланған дерек тасымалдаушыға енгізіледі).
Бұл тәсіл confidentiality + undetectability принциптерін орындайды: хабар тек кілт арқылы ашылады және оның бар екенін табу да қиын.
Артықшылықтары:
Хабар табылған күннің өзінде оны оқу мүмкін емес.
Кілтсіз дешифрлеу іс жүзінде мүмкін емес (AES-256).
Қарапайым LSB-де шифрланған дерек кездейсоқ биттер сияқты көрінеді, сондықтан табылуы қиынырақ.
Кемшіліктері:
Енгізу көлемі шектеулі (тасымалдаушы сыйымдылығы аз).
Шифрланған дерек энтропиясы жоғары болғандықтан кейде статистикалық анализбен байқалуы мүмкін.
Кілтті дұрыс сақтау мен тарату өте маңызды.

Қадамдық нұсқаулық
1. Қажетті кітапханаларды орнату
pip install pillow stegano pycryptodome

2. AES көмегімен хабарды шифрлау
from Crypto.Cipher import AES
from Crypto.Random import get_random_bytes
import base64

key = get_random_bytes(16)   # AES-128 кілті
cipher = AES.new(key, AES.MODE_EAX)
plaintext = b"Құпия хабар: ExamCode#4821"
nonce = cipher.nonce
ciphertext, tag = cipher.encrypt_and_digest(plaintext)

# біріктірілген шифрланған мәтін
encrypted_data = base64.b64encode(nonce + ciphertext).decode()
print("Шифрланған дерек:", encrypted_data)

3. Шифрланған деректі суретке енгізу (LSB)
from stegano import lsb

secret = lsb.hide("cover.png", encrypted_data)
secret.save("stego.png")
print("Жасырылған хабар енгізілді → stego.png")

4. Суреттен деректі шығару және дешифрлеу
from stegano import lsb
from Crypto.Cipher import AES
import base64

extracted = lsb.reveal("stego.png")
data = base64.b64decode(extracted)
nonce, ciphertext = data[:16], data[16:]

cipher = AES.new(key, AES.MODE_EAX, nonce=nonce)
plaintext = cipher.decrypt(ciphertext)
print("Ашылған хабар:", plaintext.decode())

5. Тестілеу
PNG орнына JPEG қолданғанда хабар жоғалатынын тексеріңіз (сығуға төзімді емес).
Шифрсыз енгізу мен шифрланған енгізудің айырмасын LSB биттерінің таралуы бойынша салыстырыңыз.
Кілтсіз хабарды ашып көруге тырысыңыз — тек түсініксіз символдар шығады.

Практикадағы мысалдар
Мысал 1. AES-пен шифрланған мәтінді cover.png ішіне енгізіп, stego.png арқылы хабарды қауіпсіз тасымалдау.
Мысал 2. Бір файлға екі қабат қорғау — AES шифрлау + RSA кілтпен орау.
Мысал 3. WAV аудиоға AES-пен шифрланған мәтінді енгізіп, дыбыс сапасының өзгерісін бағалау.

Қорытынды
Криптография + стеганография = екі деңгейлі қауіпсіздік.
AES шифры мазмұнды қорғайды, LSB әдісі хабардың бар екенін жасырады.
Мұндай тәсіл электрондық пошта, бұлттық сақтауда және құпия деректерді тасымалдауда тиімді.
Дегенмен, форматтық өзгерістер мен энтропия анализі арқылы табылу ықтималдығын ескеру керек.

Студенттерге жеке практикалық тапсырмалар 
AES көмегімен хабарды шифрлап, PNG-ға енгізіңіз.
Кілтті өзгертіп, хабарды қайта ашып көріңіз.
Шифрсыз енгізу мен шифрланған енгізуді салыстырыңыз.
JPEG форматында енгізіп, хабардың жоғалуын тексеріңіз.
AES орнына DES қолданып көріңіз.
AES-256 режимін пайдаланыңыз.
LSB орнына басқа арна (мыс., alpha-канал) қолдануды сынаңыз.
WAV файлына AES-пен шифрланған мәтін енгізіңіз.
Бейнефайлдың бірінші кадрына шифрланған хабар енгізіңіз.
Бір хабарды екі бөлікке бөліп, екі суретке енгізіңіз.
Бір суретке бірнеше шифрланған хабар енгізіп, соңғысын шығарыңыз.
Сурет өлшемін азайтып, хабардың сақталуын тексеріңіз.
Хабардың энтропиясын есептеп, өзгерісін салыстырыңыз.
AES-пен шифрланған хабарды QR-код түрінде жасап енгізіңіз.
Кілтті бөлек файлда сақтап, оны қайта пайдаланыңыз.
Бір хабарды аудио мен суретке қатар енгізіп тәжірибе жасаңыз.
Кілтсіз дешифрлеу әрекетінің нәтижесін талдаңыз.
Шифрланған хабарды әлеуметтік желі арқылы жіберіп, қайта шығарыңыз.
Шифрланған деректі бейне контейнерге енгізіп көріңіз.
AES-EAX орнына AES-CBC режимін қолданып көріңіз.
Кілтті қолданушыдан енгізуді ұйымдастырыңыз.
Крипто және стего деңгейлерінде лог файл жасаңыз.
Шифрланған хабарды қайта шифрлап, екі қабат қорғау жасаңыз.
LSB-дегі айырмашылықты визуалды карта ретінде көрсетіңіз.
Stego-файлдың көлемін салыстырыңыз (cover.png және stego.png).
Бірдей хабарды әртүрлі суреттерге енгізіп, сақтау сапасын бағалаңыз.
Python-кодқа кілтті енгізбей, оны сыртқы файлдан оқытыңыз.
Кілттің ұзындығы мен шифрлау уақыты арасындағы байланысты өлшеңіз.
Шифрланған деректі JSON форматында сақтап, енгізіңіз.
“Crypto + Stego” жүйесінің қауіпсіздік артықшылықтары мен тәуекелдерін талдайтын қысқа есеп дайындаңыз.

