Практикалық жұмыс 9. Текст және суретке жасырын хабар енгізу және оны жою

Мақсаты
Текст пен сурет файлдарына ақпаратты жасырын түрде енгізу әдістерін үйрену.
LSB (Least Significant Bit), бос орындар және кодтау принциптері арқылы деректерді жасыру тәсілдерін меңгеру.
Енгізілген хабарларды табу және жою әдістерін тәжірибеде көрсету.
Ақпараттық қауіпсіздік тұрғысынан стеганографияның артықшылықтары мен шектеулерін талдау.

Теориялық бөлім
1. Текстік стеганография:
Текст файлдарында хабарды жасыру үшін бос орындар, табуляциялар, тыныс белгілер, немесе арнайы көрінбейтін символдар қолданылады.
Мысалы:
Әр сөйлем соңындағы бос орынның саны жасырын битті білдіреді.
Көрінбейтін символдар (Zero-width space, Unicode markers) арқылы биттерді кодтауға болады.
2. Суреттік стеганография:
Суреттерде LSB әдісі жиі қолданылады – піксельдің ең төменгі биттері хабардың биттерімен алмастырылады.
Мысалы, RGB суретінде әр түстің соңғы биты хабарды сақтауға жарайды.
3. Хабарды жою:
Текст файлында: форматты өзгерту, қайта көшіру (copy-paste арқылы) — көрінбейтін символдарды жояды.
Суретте: файлды қайтажазу (recompressing JPEG/PNG), фильтрлеу, жаңа сақтау — LSB деңгейіндегі деректерді бұзады.

Қадамдық нұсқаулық
1. Құралдарды дайындау
Python және stegano кітапханасын орнатыңыз:
pip install stegano

2. Суретке хабар енгізу
from stegano import lsb
secret = lsb.hide("original.png", "Құпия хабар: Steganography example")
secret.save("hidden.png")
print("Жасырын хабар енгізілді → hidden.png")

3. Суреттен хабарды шығару
from stegano import lsb
message = lsb.reveal("hidden.png")
print("Шығарылған хабар:", message)
4. Суреттен хабарды жою
Суретті басқа форматта сақтаңыз (мысалы, .jpg → .png).
Немесе пиксельдерді қайта кодтаңыз:
from PIL import Image
img = Image.open("hidden.png")
img.save("cleaned.jpg", quality=80)
print("Жасырын дерек бұзылды (recompression).")

5. Текстке жасырын хабар енгізу (Zero-width символ арқылы)
def hide_text(text, secret):
    bin_secret = ''.join(format(ord(c), '08b') for c in secret)
    encoded = ''
    for i, bit in enumerate(bin_secret):
        encoded += text[i] + ('\u200b' if bit == '0' else '\u200c')
    encoded += text[len(bin_secret):]
    return encoded

base_text = "Бұл тексеру үшін қолданылатын мәтін."
hidden = hide_text(base_text, "Сәлем")
print(hidden)

6. Тексттен хабарды шығару
def reveal_text(encoded):
    bits = ''
    for ch in encoded:
        if ch == '\u200b': bits += '0'
        elif ch == '\u200c': bits += '1'
    return ''.join(chr(int(bits[i:i+8], 2)) for i in range(0, len(bits), 8))

print(reveal_text(hidden))

7. Тексттен хабарды жою
Текстті қарапайым copy-paste арқылы жаңа .txt файлына көшіру немесе Notepad сияқты қарапайым редакторға қою → көрінбейтін символдарды алып тастайды.
Қосымша:
cleaned = ''.join(ch for ch in hidden if ch not in ['\u200b', '\u200c'])

Практикада мысалдар
Мысал 1. PNG суретінде “Hello from LSB” мәтінін енгізіп, кейін шығарып көру.
Мысал 2. Unicode символдары арқылы “Құпия код” мәтінін .txt файлына енгізу.
Мысал 3. JPEG суретін қайта сығымдау арқылы енгізілген хабардың жойылуын тексеру.
Қорытынды
Бұл жұмыста текст және сурет файлдарына жасырын хабар енгізу және оны жою әдістері қарастырылды.
LSB әдісі визуалды сапаны өзгертпейді, бірақ файлды қайтажазғанда жойылады.
Текстік әдістер жеңіл, бірақ сыйымдылығы аз және детекцияға бейім.
Қорғаныс үшін криптография мен стеганографияны біріктіріп қолданған дұрыс.

Студенттерге жеке практикалық тапсырмалар 
PNG суретіне LSB арқылы мәтін енгізіңіз.
JPEG суретіне енгізіп, хабарды шығарып көріңіз.
LSB әдісімен енгізілген хабардың сапаға әсерін салыстырыңыз.
Суретті қайта сығымдағанда хабар сақтала ма — тексеріңіз.
Бір суретке екі түрлі хабар енгізіп көріңіз.
Әртүрлі түстер каналдары (R, G, B) бойынша хабар енгізіңіз.
Сурет өлшемін кішірейткенде хабар жоғала ма — талдаңыз.
LSB және DCT әдістерін салыстырыңыз (теориялық түрде).
Мәтінге көрінбейтін символ арқылы хабар енгізіңіз.
Текстті жаңа файлға көшірген соң хабар сақтала ма — тексеріңіз.
Unicode нөлдік енділік (zero-width) таңбаларын зерттеңіз.
Тексттен хабарды шығарып, қайтадан енгізіңіз.
Суреттен хабарды шығарып, басқа суретке енгізіңіз.
Бір суреттен алынған хабарды шифрлап сақтаңыз.
Бір мәтіннен алынған хабарды басқа мәтінге енгізіңіз.
Бір хабарды бірнеше файлдарға бөліп жасырыңыз.
Қате енгізілген биттердің хабарға әсерін тексеріңіз.
LSB әдісімен енгізілген файлдың өлшемін салыстырыңыз.
Текстке жасырын хабарды кириллицада енгізіңіз.
ASCII және Unicode форматтарында айырмашылықты анықтаңыз.
PNG және BMP форматтарының айырмашылығын зерттеңіз.
JPEG форматында қайтажазу арқылы хабарды жойыңыз.
Мәтін ішіндегі табуляцияларды пайдаланып хабар енгізіңіз.
Бір хабарды текст пен суретке бір мезгілде енгізіңіз.
Суреттен хабарды жойған соң LSB таралуын тексеріңіз.
Хабарды табуға арналған қарапайым Python сканерін жазыңыз.
Zero-width таңбаларын анықтау үшін скрипт жазыңыз.
Енгізілген хабарларды криптожолмен қорғаңыз (AES немесе XOR).
LSB әдісімен енгізілген файлдардың визуалды айырмашылығын көрсетіңіз.
Тақырып бойынша шағын есеп жазыңыз: "Жасырын хабар енгізу мен жою қауіпсіздігі".

